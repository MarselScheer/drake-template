help:
	-@echo "renv: installs R-libraries necessary to execute the drake plan"
	-@echo "run-drake-batch: execute the drake plan using nohup. This way you can disconnect from the computer"
	-@echo "clean-drake-cache: removes the drake-cache. CAUTION: ALL build targets will be gone!!!"
	-@echo "clean-reports: removes the html-reports generated by drake"
	-@echo "clean-all-drake: remove all files that might be generated by drake. CAUTION: ALL build targets will be gone!!!"

renv:
	Rscript -e "install.packages('renv'); renv::init()"

clean-renv:
	-rm -rf renv
	-rm .Rprofile

run-drake-batch: renv
  Rscript -e "renv::restore()"
	nohup Rscript -e "source('R/infrastructure.R'); execute_plans()"

clean-drake-cache:
	rm -rf .drake
	
clean-reports:
	-rm reports/*.html
	-rm reports/*.md
  
clean-all-drake: clean-drake-cache clean-reports
	rm nohup.out
